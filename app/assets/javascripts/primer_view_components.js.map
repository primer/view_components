{"version":3,"file":"primer_view_components.js","sources":["../../../node_modules/@github/combobox-nav/dist/index.js","../../../node_modules/@github/auto-complete-element/dist/index.js","../../../node_modules/@github/clipboard-copy-element/dist/index.esm.js","../../components/primer/clipboard_copy_component.ts","../../../node_modules/@github/tab-container-element/dist/index.js","../../../node_modules/@github/time-elements/dist/index.js","../../../node_modules/@github/image-crop-element/dist/index.js","../../../node_modules/@github/details-menu-element/dist/index.js","../../../node_modules/tslib/tslib.es6.js","../../../node_modules/@primer/behaviors/dist/esm/anchored-position.js","../../components/primer/alpha/tool-tip-element.ts"],"sourcesContent":["const ctrlBindings = !!navigator.userAgent.match(/Macintosh/);\nexport default class Combobox {\n    constructor(input, list) {\n        this.input = input;\n        this.list = list;\n        this.isComposing = false;\n        if (!list.id) {\n            list.id = `combobox-${Math.random()\n                .toString()\n                .slice(2, 6)}`;\n        }\n        this.keyboardEventHandler = event => keyboardBindings(event, this);\n        this.compositionEventHandler = event => trackComposition(event, this);\n        this.inputHandler = this.clearSelection.bind(this);\n        input.setAttribute('role', 'combobox');\n        input.setAttribute('aria-controls', list.id);\n        input.setAttribute('aria-expanded', 'false');\n        input.setAttribute('aria-autocomplete', 'list');\n        input.setAttribute('aria-haspopup', 'listbox');\n    }\n    destroy() {\n        this.clearSelection();\n        this.stop();\n        this.input.removeAttribute('role');\n        this.input.removeAttribute('aria-controls');\n        this.input.removeAttribute('aria-expanded');\n        this.input.removeAttribute('aria-autocomplete');\n        this.input.removeAttribute('aria-haspopup');\n    }\n    start() {\n        this.input.setAttribute('aria-expanded', 'true');\n        this.input.addEventListener('compositionstart', this.compositionEventHandler);\n        this.input.addEventListener('compositionend', this.compositionEventHandler);\n        this.input.addEventListener('input', this.inputHandler);\n        this.input.addEventListener('keydown', this.keyboardEventHandler);\n        this.list.addEventListener('click', commitWithElement);\n    }\n    stop() {\n        this.clearSelection();\n        this.input.setAttribute('aria-expanded', 'false');\n        this.input.removeEventListener('compositionstart', this.compositionEventHandler);\n        this.input.removeEventListener('compositionend', this.compositionEventHandler);\n        this.input.removeEventListener('input', this.inputHandler);\n        this.input.removeEventListener('keydown', this.keyboardEventHandler);\n        this.list.removeEventListener('click', commitWithElement);\n    }\n    navigate(indexDiff = 1) {\n        const focusEl = Array.from(this.list.querySelectorAll('[aria-selected=\"true\"]')).filter(visible)[0];\n        const els = Array.from(this.list.querySelectorAll('[role=\"option\"]')).filter(visible);\n        const focusIndex = els.indexOf(focusEl);\n        if ((focusIndex === els.length - 1 && indexDiff === 1) || (focusIndex === 0 && indexDiff === -1)) {\n            this.clearSelection();\n            this.input.focus();\n            return;\n        }\n        let indexOfItem = indexDiff === 1 ? 0 : els.length - 1;\n        if (focusEl && focusIndex >= 0) {\n            const newIndex = focusIndex + indexDiff;\n            if (newIndex >= 0 && newIndex < els.length)\n                indexOfItem = newIndex;\n        }\n        const target = els[indexOfItem];\n        if (!target)\n            return;\n        for (const el of els) {\n            if (target === el) {\n                this.input.setAttribute('aria-activedescendant', target.id);\n                target.setAttribute('aria-selected', 'true');\n                scrollTo(this.list, target);\n            }\n            else {\n                el.setAttribute('aria-selected', 'false');\n            }\n        }\n    }\n    clearSelection() {\n        this.input.removeAttribute('aria-activedescendant');\n        for (const el of this.list.querySelectorAll('[aria-selected=\"true\"]')) {\n            el.setAttribute('aria-selected', 'false');\n        }\n    }\n}\nfunction keyboardBindings(event, combobox) {\n    if (event.shiftKey || event.metaKey || event.altKey)\n        return;\n    if (!ctrlBindings && event.ctrlKey)\n        return;\n    if (combobox.isComposing)\n        return;\n    switch (event.key) {\n        case 'Enter':\n        case 'Tab':\n            if (commit(combobox.input, combobox.list)) {\n                event.preventDefault();\n            }\n            break;\n        case 'Escape':\n            combobox.clearSelection();\n            break;\n        case 'ArrowDown':\n            combobox.navigate(1);\n            event.preventDefault();\n            break;\n        case 'ArrowUp':\n            combobox.navigate(-1);\n            event.preventDefault();\n            break;\n        case 'n':\n            if (ctrlBindings && event.ctrlKey) {\n                combobox.navigate(1);\n                event.preventDefault();\n            }\n            break;\n        case 'p':\n            if (ctrlBindings && event.ctrlKey) {\n                combobox.navigate(-1);\n                event.preventDefault();\n            }\n            break;\n        default:\n            if (event.ctrlKey)\n                break;\n            combobox.clearSelection();\n    }\n}\nfunction commitWithElement(event) {\n    if (!(event.target instanceof Element))\n        return;\n    const target = event.target.closest('[role=\"option\"]');\n    if (!target)\n        return;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return;\n    fireCommitEvent(target);\n}\nfunction commit(input, list) {\n    const target = list.querySelector('[aria-selected=\"true\"]');\n    if (!target)\n        return false;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return true;\n    target.click();\n    return true;\n}\nfunction fireCommitEvent(target) {\n    target.dispatchEvent(new CustomEvent('combobox-commit', { bubbles: true }));\n}\nfunction visible(el) {\n    return (!el.hidden &&\n        !(el instanceof HTMLInputElement && el.type === 'hidden') &&\n        (el.offsetWidth > 0 || el.offsetHeight > 0));\n}\nfunction trackComposition(event, combobox) {\n    combobox.isComposing = event.type === 'compositionstart';\n    const list = document.getElementById(combobox.input.getAttribute('aria-controls') || '');\n    if (!list)\n        return;\n    combobox.clearSelection();\n}\nfunction scrollTo(container, target) {\n    if (!inViewport(container, target)) {\n        container.scrollTop = target.offsetTop;\n    }\n}\nfunction inViewport(container, element) {\n    const scrollTop = container.scrollTop;\n    const containerBottom = scrollTop + container.clientHeight;\n    const top = element.offsetTop;\n    const bottom = top + element.clientHeight;\n    return top >= scrollTop && bottom <= containerBottom;\n}\n","import Combobox from '@github/combobox-nav';\n\nclass AutocompleteEvent extends CustomEvent {\n    constructor(type, init) {\n        super(type, init);\n        this.relatedTarget = init.relatedTarget;\n    }\n}\n\nfunction debounce(callback, wait = 0) {\n    let timeout;\n    return function (...Rest) {\n        clearTimeout(timeout);\n        timeout = window.setTimeout(() => {\n            clearTimeout(timeout);\n            callback(...Rest);\n        }, wait);\n    };\n}\n\nconst requests = new WeakMap();\nfunction fragment(el, url) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.setRequestHeader('Accept', 'text/fragment+html');\n    return request(el, xhr);\n}\nfunction request(el, xhr) {\n    const pending = requests.get(el);\n    if (pending)\n        pending.abort();\n    requests.set(el, xhr);\n    const clear = () => requests.delete(el);\n    const result = send(xhr);\n    result.then(clear, clear);\n    return result;\n}\nfunction send(xhr) {\n    return new Promise((resolve, reject) => {\n        xhr.onload = function () {\n            if (xhr.status >= 200 && xhr.status < 300) {\n                resolve(xhr.responseText);\n            }\n            else {\n                reject(new Error(xhr.responseText));\n            }\n        };\n        xhr.onerror = reject;\n        xhr.send();\n    });\n}\n\nconst SCREEN_READER_DELAY = window.testScreenReaderDelay || 100;\nclass Autocomplete {\n    constructor(container, input, results, autoselectEnabled = false) {\n        var _a;\n        this.container = container;\n        this.input = input;\n        this.results = results;\n        this.combobox = new Combobox(input, results);\n        this.feedback = document.getElementById(`${this.results.id}-feedback`);\n        this.autoselectEnabled = autoselectEnabled;\n        this.clearButton = document.getElementById(`${this.input.id || this.input.name}-clear`);\n        this.clientOptions = results.querySelectorAll('[role=option]');\n        if (this.feedback) {\n            this.feedback.setAttribute('aria-live', 'polite');\n            this.feedback.setAttribute('aria-atomic', 'true');\n        }\n        if (this.clearButton && !this.clearButton.getAttribute('aria-label')) {\n            const labelElem = document.querySelector(`label[for=\"${this.input.name}\"]`);\n            this.clearButton.setAttribute('aria-label', `clear:`);\n            this.clearButton.setAttribute('aria-labelledby', `${this.clearButton.id} ${(labelElem === null || labelElem === void 0 ? void 0 : labelElem.id) || ''}`);\n        }\n        if (!this.input.getAttribute('aria-expanded')) {\n            this.input.setAttribute('aria-expanded', 'false');\n        }\n        this.results.hidden = true;\n        this.results.setAttribute('aria-label', 'results');\n        this.input.setAttribute('autocomplete', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.interactingWithList = false;\n        this.onInputChange = debounce(this.onInputChange.bind(this), 300);\n        this.onResultsMouseDown = this.onResultsMouseDown.bind(this);\n        this.onInputBlur = this.onInputBlur.bind(this);\n        this.onInputFocus = this.onInputFocus.bind(this);\n        this.onKeydown = this.onKeydown.bind(this);\n        this.onCommit = this.onCommit.bind(this);\n        this.handleClear = this.handleClear.bind(this);\n        this.input.addEventListener('keydown', this.onKeydown);\n        this.input.addEventListener('focus', this.onInputFocus);\n        this.input.addEventListener('blur', this.onInputBlur);\n        this.input.addEventListener('input', this.onInputChange);\n        this.results.addEventListener('mousedown', this.onResultsMouseDown);\n        this.results.addEventListener('combobox-commit', this.onCommit);\n        (_a = this.clearButton) === null || _a === void 0 ? void 0 : _a.addEventListener('click', this.handleClear);\n    }\n    destroy() {\n        this.input.removeEventListener('keydown', this.onKeydown);\n        this.input.removeEventListener('focus', this.onInputFocus);\n        this.input.removeEventListener('blur', this.onInputBlur);\n        this.input.removeEventListener('input', this.onInputChange);\n        this.results.removeEventListener('mousedown', this.onResultsMouseDown);\n        this.results.removeEventListener('combobox-commit', this.onCommit);\n    }\n    handleClear(event) {\n        event.preventDefault();\n        if (this.input.getAttribute('aria-expanded') === 'true') {\n            this.input.setAttribute('aria-expanded', 'false');\n            this.updateFeedbackForScreenReaders('Results hidden.');\n        }\n        this.input.value = '';\n        this.container.value = '';\n        this.input.focus();\n        this.input.dispatchEvent(new Event('change'));\n        this.container.open = false;\n    }\n    onKeydown(event) {\n        if (event.key === 'Enter' && this.container.open && this.autoselectEnabled) {\n            const firstOption = this.results.children[0];\n            if (firstOption) {\n                event.stopPropagation();\n                event.preventDefault();\n                this.onCommit({ target: firstOption });\n            }\n        }\n        if (event.key === 'Escape' && this.container.open) {\n            this.container.open = false;\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        else if (event.altKey && event.key === 'ArrowUp' && this.container.open) {\n            this.container.open = false;\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        else if (event.altKey && event.key === 'ArrowDown' && !this.container.open) {\n            if (!this.input.value.trim())\n                return;\n            this.container.open = true;\n            event.stopPropagation();\n            event.preventDefault();\n        }\n    }\n    onInputFocus() {\n        this.fetchResults();\n    }\n    onInputBlur() {\n        if (this.interactingWithList) {\n            this.interactingWithList = false;\n            return;\n        }\n        this.container.open = false;\n    }\n    onCommit({ target }) {\n        const selected = target;\n        if (!(selected instanceof HTMLElement))\n            return;\n        this.container.open = false;\n        if (selected instanceof HTMLAnchorElement)\n            return;\n        const value = selected.getAttribute('data-autocomplete-value') || selected.textContent;\n        this.updateFeedbackForScreenReaders(`${selected.textContent || ''} selected.`);\n        this.container.value = value;\n        if (!value) {\n            this.updateFeedbackForScreenReaders(`Results hidden.`);\n        }\n    }\n    onResultsMouseDown() {\n        this.interactingWithList = true;\n    }\n    onInputChange() {\n        if (this.feedback && this.feedback.innerHTML) {\n            this.feedback.innerHTML = '';\n        }\n        this.container.removeAttribute('value');\n        this.fetchResults();\n    }\n    identifyOptions() {\n        let id = 0;\n        for (const el of this.results.querySelectorAll('[role=\"option\"]:not([id])')) {\n            el.id = `${this.results.id}-option-${id++}`;\n        }\n    }\n    updateFeedbackForScreenReaders(inputString) {\n        setTimeout(() => {\n            if (this.feedback) {\n                this.feedback.innerHTML = inputString;\n            }\n        }, SCREEN_READER_DELAY);\n    }\n    fetchResults() {\n        const query = this.input.value.trim();\n        if (!query) {\n            this.container.open = false;\n            return;\n        }\n        const src = this.container.src;\n        if (!src)\n            return;\n        const url = new URL(src, window.location.href);\n        const params = new URLSearchParams(url.search.slice(1));\n        params.append('q', query);\n        url.search = params.toString();\n        this.container.dispatchEvent(new CustomEvent('loadstart'));\n        fragment(this.input, url.toString())\n            .then(html => {\n            this.results.innerHTML = html;\n            this.identifyOptions();\n            const allNewOptions = this.results.querySelectorAll('[role=\"option\"]');\n            const hasResults = !!allNewOptions.length;\n            const numOptions = allNewOptions.length;\n            const [firstOption] = allNewOptions;\n            const firstOptionValue = firstOption === null || firstOption === void 0 ? void 0 : firstOption.textContent;\n            if (this.autoselectEnabled && firstOptionValue) {\n                this.updateFeedbackForScreenReaders(`${numOptions} results. ${firstOptionValue} is the top result: Press Enter to activate.`);\n            }\n            else {\n                this.updateFeedbackForScreenReaders(`${numOptions || 'No'} results.`);\n            }\n            this.container.open = hasResults;\n            this.container.dispatchEvent(new CustomEvent('load'));\n            this.container.dispatchEvent(new CustomEvent('loadend'));\n        })\n            .catch(() => {\n            this.container.dispatchEvent(new CustomEvent('error'));\n            this.container.dispatchEvent(new CustomEvent('loadend'));\n        });\n    }\n    open() {\n        if (!this.results.hidden)\n            return;\n        this.combobox.start();\n        this.results.hidden = false;\n    }\n    close() {\n        if (this.results.hidden)\n            return;\n        this.combobox.stop();\n        this.results.hidden = true;\n    }\n}\n\nconst state = new WeakMap();\nclass AutocompleteElement extends HTMLElement {\n    connectedCallback() {\n        const listId = this.getAttribute('for');\n        if (!listId)\n            return;\n        const input = this.querySelector('input');\n        const results = document.getElementById(listId);\n        if (!(input instanceof HTMLInputElement) || !results)\n            return;\n        const autoselectEnabled = this.getAttribute('data-autoselect') === 'true';\n        state.set(this, new Autocomplete(this, input, results, autoselectEnabled));\n        results.setAttribute('role', 'listbox');\n    }\n    disconnectedCallback() {\n        const autocomplete = state.get(this);\n        if (autocomplete) {\n            autocomplete.destroy();\n            state.delete(this);\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(url) {\n        this.setAttribute('src', url);\n    }\n    get value() {\n        return this.getAttribute('value') || '';\n    }\n    set value(value) {\n        this.setAttribute('value', value);\n    }\n    get open() {\n        return this.hasAttribute('open');\n    }\n    set open(value) {\n        if (value) {\n            this.setAttribute('open', '');\n        }\n        else {\n            this.removeAttribute('open');\n        }\n    }\n    static get observedAttributes() {\n        return ['open', 'value'];\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue === newValue)\n            return;\n        const autocomplete = state.get(this);\n        if (!autocomplete)\n            return;\n        switch (name) {\n            case 'open':\n                newValue === null ? autocomplete.close() : autocomplete.open();\n                break;\n            case 'value':\n                if (newValue !== null) {\n                    autocomplete.input.value = newValue;\n                }\n                this.dispatchEvent(new AutocompleteEvent('auto-complete-change', {\n                    bubbles: true,\n                    relatedTarget: autocomplete.input\n                }));\n                break;\n        }\n    }\n}\nif (!window.customElements.get('auto-complete')) {\n    window.AutocompleteElement = AutocompleteElement;\n    window.customElements.define('auto-complete', AutocompleteElement);\n}\n\nexport default AutocompleteElement;\nexport { AutocompleteEvent };\n","function createNode(text) {\n  const node = document.createElement('pre');\n  node.style.width = '1px';\n  node.style.height = '1px';\n  node.style.position = 'fixed';\n  node.style.top = '5px';\n  node.textContent = text;\n  return node;\n}\n\nfunction copyNode(node) {\n  if ('clipboard' in navigator) {\n    // eslint-disable-next-line flowtype/no-flow-fix-me-comments\n    // $FlowFixMe Clipboard is not defined in Flow yet.\n    return navigator.clipboard.writeText(node.textContent);\n  }\n\n  const selection = getSelection();\n\n  if (selection == null) {\n    return Promise.reject(new Error());\n  }\n\n  selection.removeAllRanges();\n  const range = document.createRange();\n  range.selectNodeContents(node);\n  selection.addRange(range);\n  document.execCommand('copy');\n  selection.removeAllRanges();\n  return Promise.resolve();\n}\nfunction copyText(text) {\n  if ('clipboard' in navigator) {\n    // eslint-disable-next-line flowtype/no-flow-fix-me-comments\n    // $FlowFixMe Clipboard is not defined in Flow yet.\n    return navigator.clipboard.writeText(text);\n  }\n\n  const body = document.body;\n\n  if (!body) {\n    return Promise.reject(new Error());\n  }\n\n  const node = createNode(text);\n  body.appendChild(node);\n  copyNode(node);\n  body.removeChild(node);\n  return Promise.resolve();\n}\n\nfunction copy(button) {\n  const id = button.getAttribute('for');\n  const text = button.getAttribute('value');\n\n  function trigger() {\n    button.dispatchEvent(new CustomEvent('clipboard-copy', {\n      bubbles: true\n    }));\n  }\n\n  if (text) {\n    copyText(text).then(trigger);\n  } else if (id) {\n    const root = 'getRootNode' in Element.prototype ? button.getRootNode() : button.ownerDocument;\n    if (!(root instanceof Document || 'ShadowRoot' in window && root instanceof ShadowRoot)) return;\n    const node = root.getElementById(id);\n    if (node) copyTarget(node).then(trigger);\n  }\n}\n\nfunction copyTarget(content) {\n  if (content instanceof HTMLInputElement || content instanceof HTMLTextAreaElement) {\n    return copyText(content.value);\n  } else if (content instanceof HTMLAnchorElement && content.hasAttribute('href')) {\n    return copyText(content.href);\n  } else {\n    return copyNode(content);\n  }\n}\n\nfunction clicked(event) {\n  const button = event.currentTarget;\n\n  if (button instanceof HTMLElement) {\n    copy(button);\n  }\n}\n\nfunction keydown(event) {\n  if (event.key === ' ' || event.key === 'Enter') {\n    const button = event.currentTarget;\n\n    if (button instanceof HTMLElement) {\n      event.preventDefault();\n      copy(button);\n    }\n  }\n}\n\nfunction focused(event) {\n  event.currentTarget.addEventListener('keydown', keydown);\n}\n\nfunction blurred(event) {\n  event.currentTarget.removeEventListener('keydown', keydown);\n}\n\nclass ClipboardCopyElement extends HTMLElement {\n  constructor() {\n    super();\n    this.addEventListener('click', clicked);\n    this.addEventListener('focus', focused);\n    this.addEventListener('blur', blurred);\n  }\n\n  connectedCallback() {\n    if (!this.hasAttribute('tabindex')) {\n      this.setAttribute('tabindex', '0');\n    }\n\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'button');\n    }\n  }\n\n  get value() {\n    return this.getAttribute('value') || '';\n  }\n\n  set value(text) {\n    this.setAttribute('value', text);\n  }\n\n}\n\nif (!window.customElements.get('clipboard-copy')) {\n  window.ClipboardCopyElement = ClipboardCopyElement;\n  window.customElements.define('clipboard-copy', ClipboardCopyElement);\n}\n\nexport default ClipboardCopyElement;\n","import '@github/clipboard-copy-element'\n\nconst CLIPBOARD_COPY_TIMER_DURATION = 2000\n\nfunction showSVG(svg: SVGElement) {\n  svg.style.display = 'inline-block'\n}\n\nfunction hideSVG(svg: SVGElement) {\n  svg.style.display = 'none'\n}\n\n// Toggle a copy button.\nfunction showCopy(button: HTMLElement) {\n  const [copyIcon, checkIcon] = button.querySelectorAll<SVGElement>('.octicon')\n\n  if (!copyIcon || !checkIcon) return\n\n  showSVG(copyIcon)\n  hideSVG(checkIcon)\n}\n\n// Toggle a copy button.\nfunction showCheck(button: HTMLElement) {\n  const [copyIcon, checkIcon] = button.querySelectorAll<SVGElement>('.octicon')\n\n  if (!copyIcon || !checkIcon) return\n\n  hideSVG(copyIcon)\n  showSVG(checkIcon)\n}\n\nconst clipboardCopyElementTimers = new WeakMap<HTMLElement, number>()\n\ndocument.addEventListener('clipboard-copy', function({target}) {\n  if (!(target instanceof HTMLElement)) return\n  if (!target.hasAttribute('data-view-component')) return\n\n  const currentTimeout = clipboardCopyElementTimers.get(target)\n\n  if (currentTimeout) {\n    clearTimeout(currentTimeout)\n    clipboardCopyElementTimers.delete(target)\n  } else {\n    showCheck(target)\n  }\n\n  clipboardCopyElementTimers.set(\n    target,\n    setTimeout(() => {\n      showCopy(target)\n      clipboardCopyElementTimers.delete(target)\n    }, CLIPBOARD_COPY_TIMER_DURATION)\n  )\n})\n","export default class TabContainerElement extends HTMLElement {\n    constructor() {\n        super();\n        this.addEventListener('keydown', (event) => {\n            const target = event.target;\n            if (!(target instanceof HTMLElement))\n                return;\n            if (target.getAttribute('role') !== 'tab' && !target.closest('[role=\"tablist\"]'))\n                return;\n            const tabs = Array.from(this.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]'));\n            const currentIndex = tabs.indexOf(tabs.find(tab => tab.matches('[aria-selected=\"true\"]')));\n            if (event.code === 'ArrowRight') {\n                let index = currentIndex + 1;\n                if (index >= tabs.length)\n                    index = 0;\n                selectTab(this, index);\n            }\n            else if (event.code === 'ArrowLeft') {\n                let index = currentIndex - 1;\n                if (index < 0)\n                    index = tabs.length - 1;\n                selectTab(this, index);\n            }\n            else if (event.code === 'Home') {\n                selectTab(this, 0);\n                event.preventDefault();\n            }\n            else if (event.code === 'End') {\n                selectTab(this, tabs.length - 1);\n                event.preventDefault();\n            }\n        });\n        this.addEventListener('click', (event) => {\n            const tabs = Array.from(this.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]'));\n            if (!(event.target instanceof Element))\n                return;\n            const tab = event.target.closest('[role=\"tab\"]');\n            if (!tab || !tab.closest('[role=\"tablist\"]'))\n                return;\n            const index = tabs.indexOf(tab);\n            selectTab(this, index);\n        });\n    }\n    connectedCallback() {\n        for (const tab of this.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]')) {\n            if (!tab.hasAttribute('aria-selected')) {\n                tab.setAttribute('aria-selected', 'false');\n            }\n            if (!tab.hasAttribute('tabindex')) {\n                if (tab.getAttribute('aria-selected') === 'true') {\n                    tab.setAttribute('tabindex', '0');\n                }\n                else {\n                    tab.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n    }\n}\nfunction selectTab(tabContainer, index) {\n    const tabs = tabContainer.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]');\n    const panels = tabContainer.querySelectorAll('[role=\"tabpanel\"]');\n    const selectedTab = tabs[index];\n    const selectedPanel = panels[index];\n    const cancelled = !tabContainer.dispatchEvent(new CustomEvent('tab-container-change', {\n        bubbles: true,\n        cancelable: true,\n        detail: { relatedTarget: selectedPanel }\n    }));\n    if (cancelled)\n        return;\n    for (const tab of tabs) {\n        tab.setAttribute('aria-selected', 'false');\n        tab.setAttribute('tabindex', '-1');\n    }\n    for (const panel of panels) {\n        panel.hidden = true;\n        if (!panel.hasAttribute('tabindex') && !panel.hasAttribute('data-tab-container-no-tabstop')) {\n            panel.setAttribute('tabindex', '0');\n        }\n    }\n    selectedTab.setAttribute('aria-selected', 'true');\n    selectedTab.setAttribute('tabindex', '0');\n    selectedTab.focus();\n    selectedPanel.hidden = false;\n    tabContainer.dispatchEvent(new CustomEvent('tab-container-changed', {\n        bubbles: true,\n        detail: { relatedTarget: selectedPanel }\n    }));\n}\nif (!window.customElements.get('tab-container')) {\n    window.TabContainerElement = TabContainerElement;\n    window.customElements.define('tab-container', TabContainerElement);\n}\n//# sourceMappingURL=index.js.map","const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nconst months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\nfunction pad(num) {\n    return `0${num}`.slice(-2);\n}\nfunction strftime(time, formatString) {\n    const day = time.getDay();\n    const date = time.getDate();\n    const month = time.getMonth();\n    const year = time.getFullYear();\n    const hour = time.getHours();\n    const minute = time.getMinutes();\n    const second = time.getSeconds();\n    return formatString.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g, function (_arg) {\n        let match;\n        const modifier = _arg[1];\n        switch (modifier) {\n            case '%':\n                return '%';\n            case 'a':\n                return weekdays[day].slice(0, 3);\n            case 'A':\n                return weekdays[day];\n            case 'b':\n                return months[month].slice(0, 3);\n            case 'B':\n                return months[month];\n            case 'c':\n                return time.toString();\n            case 'd':\n                return pad(date);\n            case 'e':\n                return String(date);\n            case 'H':\n                return pad(hour);\n            case 'I':\n                return pad(strftime(time, '%l'));\n            case 'l':\n                if (hour === 0 || hour === 12) {\n                    return String(12);\n                }\n                else {\n                    return String((hour + 12) % 12);\n                }\n            case 'm':\n                return pad(month + 1);\n            case 'M':\n                return pad(minute);\n            case 'p':\n                if (hour > 11) {\n                    return 'PM';\n                }\n                else {\n                    return 'AM';\n                }\n            case 'P':\n                if (hour > 11) {\n                    return 'pm';\n                }\n                else {\n                    return 'am';\n                }\n            case 'S':\n                return pad(second);\n            case 'w':\n                return String(day);\n            case 'y':\n                return pad(year % 100);\n            case 'Y':\n                return String(year);\n            case 'Z':\n                match = time.toString().match(/\\((\\w+)\\)$/);\n                return match ? match[1] : '';\n            case 'z':\n                match = time.toString().match(/\\w([+-]\\d\\d\\d\\d) /);\n                return match ? match[1] : '';\n        }\n        return '';\n    });\n}\nfunction makeFormatter(options) {\n    let format;\n    return function () {\n        if (format)\n            return format;\n        if ('Intl' in window) {\n            try {\n                format = new Intl.DateTimeFormat(undefined, options);\n                return format;\n            }\n            catch (e) {\n                if (!(e instanceof RangeError)) {\n                    throw e;\n                }\n            }\n        }\n    };\n}\nlet dayFirst = null;\nconst dayFirstFormatter = makeFormatter({ day: 'numeric', month: 'short' });\nfunction isDayFirst() {\n    if (dayFirst !== null) {\n        return dayFirst;\n    }\n    const formatter = dayFirstFormatter();\n    if (formatter) {\n        const output = formatter.format(new Date(0));\n        dayFirst = !!output.match(/^\\d/);\n        return dayFirst;\n    }\n    else {\n        return false;\n    }\n}\nlet yearSeparator = null;\nconst yearFormatter = makeFormatter({ day: 'numeric', month: 'short', year: 'numeric' });\nfunction isYearSeparator() {\n    if (yearSeparator !== null) {\n        return yearSeparator;\n    }\n    const formatter = yearFormatter();\n    if (formatter) {\n        const output = formatter.format(new Date(0));\n        yearSeparator = !!output.match(/\\d,/);\n        return yearSeparator;\n    }\n    else {\n        return true;\n    }\n}\nfunction isThisYear(date) {\n    const now = new Date();\n    return now.getUTCFullYear() === date.getUTCFullYear();\n}\nfunction makeRelativeFormat(locale, options) {\n    if ('Intl' in window && 'RelativeTimeFormat' in window.Intl) {\n        try {\n            return new Intl.RelativeTimeFormat(locale, options);\n        }\n        catch (e) {\n            if (!(e instanceof RangeError)) {\n                throw e;\n            }\n        }\n    }\n}\nfunction localeFromElement(el) {\n    const container = el.closest('[lang]');\n    if (container instanceof HTMLElement && container.lang) {\n        return container.lang;\n    }\n    return 'default';\n}\n\nconst datetimes = new WeakMap();\nclass ExtendedTimeElement extends HTMLElement {\n    static get observedAttributes() {\n        return [\n            'datetime',\n            'day',\n            'format',\n            'lang',\n            'hour',\n            'minute',\n            'month',\n            'second',\n            'title',\n            'weekday',\n            'year',\n            'time-zone-name'\n        ];\n    }\n    connectedCallback() {\n        const title = this.getFormattedTitle();\n        if (title && !this.hasAttribute('title')) {\n            this.setAttribute('title', title);\n        }\n        const text = this.getFormattedDate();\n        if (text) {\n            this.textContent = text;\n        }\n    }\n    attributeChangedCallback(attrName, oldValue, newValue) {\n        const oldTitle = this.getFormattedTitle();\n        if (attrName === 'datetime') {\n            const millis = Date.parse(newValue);\n            if (isNaN(millis)) {\n                datetimes.delete(this);\n            }\n            else {\n                datetimes.set(this, new Date(millis));\n            }\n        }\n        const title = this.getFormattedTitle();\n        const currentTitle = this.getAttribute('title');\n        if (attrName !== 'title' && title && (!currentTitle || currentTitle === oldTitle)) {\n            this.setAttribute('title', title);\n        }\n        const text = this.getFormattedDate();\n        if (text) {\n            this.textContent = text;\n        }\n    }\n    get date() {\n        return datetimes.get(this);\n    }\n    getFormattedTitle() {\n        const date = this.date;\n        if (!date)\n            return;\n        const formatter = titleFormatter();\n        if (formatter) {\n            return formatter.format(date);\n        }\n        else {\n            try {\n                return date.toLocaleString();\n            }\n            catch (e) {\n                if (e instanceof RangeError) {\n                    return date.toString();\n                }\n                else {\n                    throw e;\n                }\n            }\n        }\n    }\n    getFormattedDate() {\n        return;\n    }\n}\nconst titleFormatter = makeFormatter({\n    day: 'numeric',\n    month: 'short',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit',\n    timeZoneName: 'short'\n});\n\nconst formatters = new WeakMap();\nclass LocalTimeElement extends ExtendedTimeElement {\n    attributeChangedCallback(attrName, oldValue, newValue) {\n        if (attrName === 'hour' || attrName === 'minute' || attrName === 'second' || attrName === 'time-zone-name') {\n            formatters.delete(this);\n        }\n        super.attributeChangedCallback(attrName, oldValue, newValue);\n    }\n    getFormattedDate() {\n        const d = this.date;\n        if (!d)\n            return;\n        const date = formatDate(this, d) || '';\n        const time = formatTime(this, d) || '';\n        return `${date} ${time}`.trim();\n    }\n}\nfunction formatDate(el, date) {\n    const props = {\n        weekday: {\n            short: '%a',\n            long: '%A'\n        },\n        day: {\n            numeric: '%e',\n            '2-digit': '%d'\n        },\n        month: {\n            short: '%b',\n            long: '%B'\n        },\n        year: {\n            numeric: '%Y',\n            '2-digit': '%y'\n        }\n    };\n    let format = isDayFirst() ? 'weekday day month year' : 'weekday month day, year';\n    for (const prop in props) {\n        const value = props[prop][el.getAttribute(prop) || ''];\n        format = format.replace(prop, value || '');\n    }\n    format = format.replace(/(\\s,)|(,\\s$)/, '');\n    return strftime(date, format).replace(/\\s+/, ' ').trim();\n}\nfunction formatTime(el, date) {\n    const options = {};\n    const hour = el.getAttribute('hour');\n    if (hour === 'numeric' || hour === '2-digit')\n        options.hour = hour;\n    const minute = el.getAttribute('minute');\n    if (minute === 'numeric' || minute === '2-digit')\n        options.minute = minute;\n    const second = el.getAttribute('second');\n    if (second === 'numeric' || second === '2-digit')\n        options.second = second;\n    const tz = el.getAttribute('time-zone-name');\n    if (tz === 'short' || tz === 'long')\n        options.timeZoneName = tz;\n    if (Object.keys(options).length === 0) {\n        return;\n    }\n    let factory = formatters.get(el);\n    if (!factory) {\n        factory = makeFormatter(options);\n        formatters.set(el, factory);\n    }\n    const formatter = factory();\n    if (formatter) {\n        return formatter.format(date);\n    }\n    else {\n        const timef = options.second ? '%H:%M:%S' : '%H:%M';\n        return strftime(date, timef);\n    }\n}\nif (!window.customElements.get('local-time')) {\n    window.LocalTimeElement = LocalTimeElement;\n    window.customElements.define('local-time', LocalTimeElement);\n}\n\nclass RelativeTime {\n    constructor(date, locale) {\n        this.date = date;\n        this.locale = locale;\n    }\n    toString() {\n        const ago = this.timeElapsed();\n        if (ago) {\n            return ago;\n        }\n        else {\n            const ahead = this.timeAhead();\n            if (ahead) {\n                return ahead;\n            }\n            else {\n                return `on ${this.formatDate()}`;\n            }\n        }\n    }\n    timeElapsed() {\n        const ms = new Date().getTime() - this.date.getTime();\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        if (ms >= 0 && day < 30) {\n            return this.timeAgoFromMs(ms);\n        }\n        else {\n            return null;\n        }\n    }\n    timeAhead() {\n        const ms = this.date.getTime() - new Date().getTime();\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        if (ms >= 0 && day < 30) {\n            return this.timeUntil();\n        }\n        else {\n            return null;\n        }\n    }\n    timeAgo() {\n        const ms = new Date().getTime() - this.date.getTime();\n        return this.timeAgoFromMs(ms);\n    }\n    timeAgoFromMs(ms) {\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        const month = Math.round(day / 30);\n        const year = Math.round(month / 12);\n        if (ms < 0) {\n            return formatRelativeTime(this.locale, 0, 'second');\n        }\n        else if (sec < 10) {\n            return formatRelativeTime(this.locale, 0, 'second');\n        }\n        else if (sec < 45) {\n            return formatRelativeTime(this.locale, -sec, 'second');\n        }\n        else if (sec < 90) {\n            return formatRelativeTime(this.locale, -min, 'minute');\n        }\n        else if (min < 45) {\n            return formatRelativeTime(this.locale, -min, 'minute');\n        }\n        else if (min < 90) {\n            return formatRelativeTime(this.locale, -hr, 'hour');\n        }\n        else if (hr < 24) {\n            return formatRelativeTime(this.locale, -hr, 'hour');\n        }\n        else if (hr < 36) {\n            return formatRelativeTime(this.locale, -day, 'day');\n        }\n        else if (day < 30) {\n            return formatRelativeTime(this.locale, -day, 'day');\n        }\n        else if (month < 18) {\n            return formatRelativeTime(this.locale, -month, 'month');\n        }\n        else {\n            return formatRelativeTime(this.locale, -year, 'year');\n        }\n    }\n    microTimeAgo() {\n        const ms = new Date().getTime() - this.date.getTime();\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        const month = Math.round(day / 30);\n        const year = Math.round(month / 12);\n        if (min < 1) {\n            return '1m';\n        }\n        else if (min < 60) {\n            return `${min}m`;\n        }\n        else if (hr < 24) {\n            return `${hr}h`;\n        }\n        else if (day < 365) {\n            return `${day}d`;\n        }\n        else {\n            return `${year}y`;\n        }\n    }\n    timeUntil() {\n        const ms = this.date.getTime() - new Date().getTime();\n        return this.timeUntilFromMs(ms);\n    }\n    timeUntilFromMs(ms) {\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        const month = Math.round(day / 30);\n        const year = Math.round(month / 12);\n        if (month >= 18) {\n            return formatRelativeTime(this.locale, year, 'year');\n        }\n        else if (month >= 12) {\n            return formatRelativeTime(this.locale, year, 'year');\n        }\n        else if (day >= 45) {\n            return formatRelativeTime(this.locale, month, 'month');\n        }\n        else if (day >= 30) {\n            return formatRelativeTime(this.locale, month, 'month');\n        }\n        else if (hr >= 36) {\n            return formatRelativeTime(this.locale, day, 'day');\n        }\n        else if (hr >= 24) {\n            return formatRelativeTime(this.locale, day, 'day');\n        }\n        else if (min >= 90) {\n            return formatRelativeTime(this.locale, hr, 'hour');\n        }\n        else if (min >= 45) {\n            return formatRelativeTime(this.locale, hr, 'hour');\n        }\n        else if (sec >= 90) {\n            return formatRelativeTime(this.locale, min, 'minute');\n        }\n        else if (sec >= 45) {\n            return formatRelativeTime(this.locale, min, 'minute');\n        }\n        else if (sec >= 10) {\n            return formatRelativeTime(this.locale, sec, 'second');\n        }\n        else {\n            return formatRelativeTime(this.locale, 0, 'second');\n        }\n    }\n    microTimeUntil() {\n        const ms = this.date.getTime() - new Date().getTime();\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        const month = Math.round(day / 30);\n        const year = Math.round(month / 12);\n        if (day >= 365) {\n            return `${year}y`;\n        }\n        else if (hr >= 24) {\n            return `${day}d`;\n        }\n        else if (min >= 60) {\n            return `${hr}h`;\n        }\n        else if (min > 1) {\n            return `${min}m`;\n        }\n        else {\n            return '1m';\n        }\n    }\n    formatDate() {\n        let format = isDayFirst() ? '%e %b' : '%b %e';\n        if (!isThisYear(this.date)) {\n            format += isYearSeparator() ? ', %Y' : ' %Y';\n        }\n        return strftime(this.date, format);\n    }\n    formatTime() {\n        const formatter = timeFormatter();\n        if (formatter) {\n            return formatter.format(this.date);\n        }\n        else {\n            return strftime(this.date, '%l:%M%P');\n        }\n    }\n}\nfunction formatRelativeTime(locale, value, unit) {\n    const formatter = makeRelativeFormat(locale, { numeric: 'auto' });\n    if (formatter) {\n        return formatter.format(value, unit);\n    }\n    else {\n        return formatEnRelativeTime(value, unit);\n    }\n}\nfunction formatEnRelativeTime(value, unit) {\n    if (value === 0) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n                return `this ${unit}`;\n            case 'day':\n                return 'today';\n            case 'hour':\n            case 'minute':\n                return `in 0 ${unit}s`;\n            case 'second':\n                return 'now';\n        }\n    }\n    else if (value === 1) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n                return `next ${unit}`;\n            case 'day':\n                return 'tomorrow';\n            case 'hour':\n            case 'minute':\n            case 'second':\n                return `in 1 ${unit}`;\n        }\n    }\n    else if (value === -1) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n                return `last ${unit}`;\n            case 'day':\n                return 'yesterday';\n            case 'hour':\n            case 'minute':\n            case 'second':\n                return `1 ${unit} ago`;\n        }\n    }\n    else if (value > 1) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n            case 'day':\n            case 'hour':\n            case 'minute':\n            case 'second':\n                return `in ${value} ${unit}s`;\n        }\n    }\n    else if (value < -1) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n            case 'day':\n            case 'hour':\n            case 'minute':\n            case 'second':\n                return `${-value} ${unit}s ago`;\n        }\n    }\n    throw new RangeError(`Invalid unit argument for format() '${unit}'`);\n}\nconst timeFormatter = makeFormatter({ hour: 'numeric', minute: '2-digit' });\n\nclass RelativeTimeElement extends ExtendedTimeElement {\n    getFormattedDate() {\n        const date = this.date;\n        if (!date)\n            return;\n        return new RelativeTime(date, localeFromElement(this)).toString();\n    }\n    connectedCallback() {\n        nowElements.push(this);\n        if (!updateNowElementsId) {\n            updateNowElements();\n            updateNowElementsId = window.setInterval(updateNowElements, 60 * 1000);\n        }\n        super.connectedCallback();\n    }\n    disconnectedCallback() {\n        const ix = nowElements.indexOf(this);\n        if (ix !== -1) {\n            nowElements.splice(ix, 1);\n        }\n        if (!nowElements.length) {\n            if (updateNowElementsId) {\n                clearInterval(updateNowElementsId);\n                updateNowElementsId = null;\n            }\n        }\n    }\n}\nconst nowElements = [];\nlet updateNowElementsId;\nfunction updateNowElements() {\n    let time, i, len;\n    for (i = 0, len = nowElements.length; i < len; i++) {\n        time = nowElements[i];\n        time.textContent = time.getFormattedDate() || '';\n    }\n}\nif (!window.customElements.get('relative-time')) {\n    window.RelativeTimeElement = RelativeTimeElement;\n    window.customElements.define('relative-time', RelativeTimeElement);\n}\n\nclass TimeAgoElement extends RelativeTimeElement {\n    getFormattedDate() {\n        const format = this.getAttribute('format');\n        const date = this.date;\n        if (!date)\n            return;\n        if (format === 'micro') {\n            return new RelativeTime(date, localeFromElement(this)).microTimeAgo();\n        }\n        else {\n            return new RelativeTime(date, localeFromElement(this)).timeAgo();\n        }\n    }\n}\nif (!window.customElements.get('time-ago')) {\n    window.TimeAgoElement = TimeAgoElement;\n    window.customElements.define('time-ago', TimeAgoElement);\n}\n\nclass TimeUntilElement extends RelativeTimeElement {\n    getFormattedDate() {\n        const format = this.getAttribute('format');\n        const date = this.date;\n        if (!date)\n            return;\n        if (format === 'micro') {\n            return new RelativeTime(date, localeFromElement(this)).microTimeUntil();\n        }\n        else {\n            return new RelativeTime(date, localeFromElement(this)).timeUntil();\n        }\n    }\n}\nif (!window.customElements.get('time-until')) {\n    window.TimeUntilElement = TimeUntilElement;\n    window.customElements.define('time-until', TimeUntilElement);\n}\n\nexport { LocalTimeElement, RelativeTimeElement, TimeAgoElement, TimeUntilElement };\n","const startPositions = new WeakMap();\nconst dragStartPositions = new WeakMap();\nconst constructedElements = new WeakMap();\nfunction moveCropArea(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box, image } = constructedElements.get(el) || {};\n    if (!box || !image)\n        return;\n    let deltaX = 0;\n    let deltaY = 0;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'ArrowUp') {\n            deltaY = -1;\n        }\n        else if (event.key === 'ArrowDown') {\n            deltaY = 1;\n        }\n        else if (event.key === 'ArrowLeft') {\n            deltaX = -1;\n        }\n        else if (event.key === 'ArrowRight') {\n            deltaX = 1;\n        }\n    }\n    else if (dragStartPositions.has(el) && event instanceof MouseEvent) {\n        const pos = dragStartPositions.get(el);\n        deltaX = event.pageX - pos.dragStartX;\n        deltaY = event.pageY - pos.dragStartY;\n    }\n    else if (dragStartPositions.has(el) && event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        const { dragStartX, dragStartY } = dragStartPositions.get(el);\n        deltaX = pageX - dragStartX;\n        deltaY = pageY - dragStartY;\n    }\n    if (deltaX !== 0 || deltaY !== 0) {\n        const x = Math.min(Math.max(0, box.offsetLeft + deltaX), image.width - box.offsetWidth);\n        const y = Math.min(Math.max(0, box.offsetTop + deltaY), image.height - box.offsetHeight);\n        box.style.left = `${x}px`;\n        box.style.top = `${y}px`;\n        fireChangeEvent(el, { x, y, width: box.offsetWidth, height: box.offsetHeight });\n    }\n    if (event instanceof MouseEvent) {\n        dragStartPositions.set(el, {\n            dragStartX: event.pageX,\n            dragStartY: event.pageY\n        });\n    }\n    else if (event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        dragStartPositions.set(el, {\n            dragStartX: pageX,\n            dragStartY: pageY\n        });\n    }\n}\nfunction updateCropArea(event) {\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    const el = getShadowHost(target);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const rect = el.getBoundingClientRect();\n    let deltaX, deltaY, delta;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'Escape')\n            return setInitialPosition(el);\n        if (event.key === '-')\n            delta = -10;\n        if (event.key === '=')\n            delta = +10;\n        if (!delta)\n            return;\n        deltaX = box.offsetWidth + delta;\n        deltaY = box.offsetHeight + delta;\n        startPositions.set(el, { startX: box.offsetLeft, startY: box.offsetTop });\n    }\n    else if (event instanceof MouseEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    else if (event instanceof TouchEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.changedTouches[0].pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.changedTouches[0].pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    if (deltaX && deltaY)\n        updateDimensions(el, deltaX, deltaY, !(event instanceof KeyboardEvent));\n}\nfunction getShadowHost(el) {\n    const rootNode = el.getRootNode();\n    if (!(rootNode instanceof ShadowRoot))\n        return el;\n    return rootNode.host;\n}\nfunction startUpdate(event) {\n    const currentTarget = event.currentTarget;\n    if (!(currentTarget instanceof HTMLElement))\n        return;\n    const el = getShadowHost(currentTarget);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    if (target.hasAttribute('data-direction')) {\n        const direction = target.getAttribute('data-direction') || '';\n        el.addEventListener('mousemove', updateCropArea);\n        el.addEventListener('touchmove', updateCropArea, { passive: true });\n        if (['nw', 'se'].indexOf(direction) >= 0)\n            el.classList.add('nwse');\n        if (['ne', 'sw'].indexOf(direction) >= 0)\n            el.classList.add('nesw');\n        startPositions.set(el, {\n            startX: box.offsetLeft + (['se', 'ne'].indexOf(direction) >= 0 ? 0 : box.offsetWidth),\n            startY: box.offsetTop + (['se', 'sw'].indexOf(direction) >= 0 ? 0 : box.offsetHeight)\n        });\n        updateCropArea(event);\n    }\n    else {\n        el.addEventListener('mousemove', moveCropArea);\n        el.addEventListener('touchmove', moveCropArea, { passive: true });\n    }\n}\nfunction updateDimensions(target, deltaX, deltaY, reposition = true) {\n    let newSide = Math.max(Math.abs(deltaX), Math.abs(deltaY), 10);\n    const pos = startPositions.get(target);\n    if (!pos)\n        return;\n    const { box, image } = constructedElements.get(target) || {};\n    if (!box || !image)\n        return;\n    newSide = Math.min(newSide, deltaY > 0 ? image.height - pos.startY : pos.startY, deltaX > 0 ? image.width - pos.startX : pos.startX);\n    const x = reposition ? Math.round(Math.max(0, deltaX > 0 ? pos.startX : pos.startX - newSide)) : box.offsetLeft;\n    const y = reposition ? Math.round(Math.max(0, deltaY > 0 ? pos.startY : pos.startY - newSide)) : box.offsetTop;\n    box.style.left = `${x}px`;\n    box.style.top = `${y}px`;\n    box.style.width = `${newSide}px`;\n    box.style.height = `${newSide}px`;\n    fireChangeEvent(target, { x, y, width: newSide, height: newSide });\n}\nfunction setInitialPosition(el) {\n    const { image } = constructedElements.get(el) || {};\n    if (!image)\n        return;\n    const side = Math.round(image.clientWidth > image.clientHeight ? image.clientHeight : image.clientWidth);\n    startPositions.set(el, {\n        startX: (image.clientWidth - side) / 2,\n        startY: (image.clientHeight - side) / 2\n    });\n    updateDimensions(el, side, side);\n}\nfunction stopUpdate(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    dragStartPositions.delete(el);\n    el.classList.remove('nwse', 'nesw');\n    el.removeEventListener('mousemove', updateCropArea);\n    el.removeEventListener('mousemove', moveCropArea);\n    el.removeEventListener('touchmove', updateCropArea);\n    el.removeEventListener('touchmove', moveCropArea);\n}\nfunction fireChangeEvent(target, result) {\n    const { image } = constructedElements.get(target) || {};\n    if (!image)\n        return;\n    const ratio = image.naturalWidth / image.width;\n    for (const key in result) {\n        const value = Math.round(result[key] * ratio);\n        result[key] = value;\n        const slottedInput = target.querySelector(`[data-image-crop-input='${key}']`);\n        if (slottedInput instanceof HTMLInputElement)\n            slottedInput.value = value.toString();\n    }\n    target.dispatchEvent(new CustomEvent('image-crop-change', { bubbles: true, detail: result }));\n}\nclass ImageCropElement extends HTMLElement {\n    connectedCallback() {\n        if (constructedElements.has(this))\n            return;\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        shadowRoot.innerHTML = `\n<style>\n  :host { touch-action: none; display: block; }\n  :host(.nesw) { cursor: nesw-resize; }\n  :host(.nwse) { cursor: nwse-resize; }\n  :host(.nesw) .crop-box, :host(.nwse) .crop-box { cursor: inherit; }\n  :host([loaded]) .crop-image { display: block; }\n  :host([loaded]) ::slotted([data-loading-slot]), .crop-image { display: none; }\n\n  .crop-wrapper {\n    position: relative;\n    font-size: 0;\n  }\n  .crop-container {\n    user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    position: absolute;\n    overflow: hidden;\n    z-index: 1;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  :host([rounded]) .crop-box {\n    border-radius: 50%;\n    box-shadow: 0 0 0 4000px rgba(0, 0, 0, 0.3);\n  }\n  .crop-box {\n    position: absolute;\n    border: 1px dashed #fff;\n    box-sizing: border-box;\n    cursor: move;\n  }\n\n  :host([rounded]) .crop-outline {\n    outline: none;\n  }\n  .crop-outline {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    outline: 4000px solid rgba(0, 0, 0, .3);\n  }\n\n  .handle { position: absolute; }\n  :host([rounded]) .handle::before { border-radius: 50%; }\n  .handle:before {\n    position: absolute;\n    display: block;\n    padding: 4px;\n    transform: translate(-50%, -50%);\n    content: ' ';\n    background: #fff;\n    border: 1px solid #767676;\n  }\n  .ne { top: 0; right: 0; cursor: nesw-resize; }\n  .nw { top: 0; left: 0; cursor: nwse-resize; }\n  .se { bottom: 0; right: 0; cursor: nwse-resize; }\n  .sw { bottom: 0; left: 0; cursor: nesw-resize; }\n</style>\n<slot></slot>\n<div class=\"crop-wrapper\">\n  <img width=\"100%\" class=\"crop-image\" alt=\"\">\n  <div class=\"crop-container\">\n    <div data-crop-box class=\"crop-box\">\n      <div class=\"crop-outline\"></div>\n      <div data-direction=\"nw\" class=\"handle nw\"></div>\n      <div data-direction=\"ne\" class=\"handle ne\"></div>\n      <div data-direction=\"sw\" class=\"handle sw\"></div>\n      <div data-direction=\"se\" class=\"handle se\"></div>\n    </div>\n  </div>\n</div>\n`;\n        const box = shadowRoot.querySelector('[data-crop-box]');\n        if (!(box instanceof HTMLElement))\n            return;\n        const image = shadowRoot.querySelector('img');\n        if (!(image instanceof HTMLImageElement))\n            return;\n        constructedElements.set(this, { box, image });\n        image.addEventListener('load', () => {\n            this.loaded = true;\n            setInitialPosition(this);\n        });\n        this.addEventListener('mouseleave', stopUpdate);\n        this.addEventListener('touchend', stopUpdate);\n        this.addEventListener('mouseup', stopUpdate);\n        box.addEventListener('mousedown', startUpdate);\n        box.addEventListener('touchstart', startUpdate, { passive: true });\n        this.addEventListener('keydown', moveCropArea);\n        this.addEventListener('keydown', updateCropArea);\n        if (this.src)\n            image.src = this.src;\n    }\n    static get observedAttributes() {\n        return ['src'];\n    }\n    get src() {\n        return this.getAttribute('src');\n    }\n    set src(val) {\n        if (val) {\n            this.setAttribute('src', val);\n        }\n        else {\n            this.removeAttribute('src');\n        }\n    }\n    get loaded() {\n        return this.hasAttribute('loaded');\n    }\n    set loaded(val) {\n        if (val) {\n            this.setAttribute('loaded', '');\n        }\n        else {\n            this.removeAttribute('loaded');\n        }\n    }\n    attributeChangedCallback(attribute, oldValue, newValue) {\n        const { image } = constructedElements.get(this) || {};\n        if (attribute === 'src') {\n            this.loaded = false;\n            if (image)\n                image.src = newValue;\n        }\n    }\n}\nexport default ImageCropElement;\nif (!window.customElements.get('image-crop')) {\n    window.ImageCropElement = ImageCropElement;\n    window.customElements.define('image-crop', ImageCropElement);\n}\n","class DetailsMenuElement extends HTMLElement {\n    get preload() {\n        return this.hasAttribute('preload');\n    }\n    set preload(value) {\n        if (value) {\n            this.setAttribute('preload', '');\n        }\n        else {\n            this.removeAttribute('preload');\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role'))\n            this.setAttribute('role', 'menu');\n        const details = this.parentElement;\n        if (!details)\n            return;\n        const summary = details.querySelector('summary');\n        if (summary) {\n            summary.setAttribute('aria-haspopup', 'menu');\n            if (!summary.hasAttribute('role'))\n                summary.setAttribute('role', 'button');\n        }\n        const subscriptions = [\n            fromEvent(details, 'compositionstart', e => trackComposition(this, e)),\n            fromEvent(details, 'compositionend', e => trackComposition(this, e)),\n            fromEvent(details, 'click', e => shouldCommit(details, e)),\n            fromEvent(details, 'change', e => shouldCommit(details, e)),\n            fromEvent(details, 'keydown', e => keydown(details, this, e)),\n            fromEvent(details, 'toggle', () => loadFragment(details, this), { once: true }),\n            fromEvent(details, 'toggle', () => closeCurrentMenu(details)),\n            this.preload\n                ? fromEvent(details, 'mouseover', () => loadFragment(details, this), { once: true })\n                : NullSubscription,\n            ...focusOnOpen(details)\n        ];\n        states.set(this, { subscriptions, loaded: false, isComposing: false });\n    }\n    disconnectedCallback() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        for (const sub of state.subscriptions) {\n            sub.unsubscribe();\n        }\n    }\n}\nconst states = new WeakMap();\nconst NullSubscription = {\n    unsubscribe() {\n    }\n};\nfunction fromEvent(target, eventName, onNext, options = false) {\n    target.addEventListener(eventName, onNext, options);\n    return {\n        unsubscribe: () => {\n            target.removeEventListener(eventName, onNext, options);\n        }\n    };\n}\nfunction loadFragment(details, menu) {\n    const src = menu.getAttribute('src');\n    if (!src)\n        return;\n    const state = states.get(menu);\n    if (!state)\n        return;\n    if (state.loaded)\n        return;\n    state.loaded = true;\n    const loader = menu.querySelector('include-fragment');\n    if (loader && !loader.hasAttribute('src')) {\n        loader.addEventListener('loadend', () => autofocus(details));\n        loader.setAttribute('src', src);\n    }\n}\nfunction focusOnOpen(details) {\n    let isMouse = false;\n    const onmousedown = () => (isMouse = true);\n    const onkeydown = () => (isMouse = false);\n    const ontoggle = () => {\n        if (!details.hasAttribute('open'))\n            return;\n        if (autofocus(details))\n            return;\n        if (!isMouse)\n            focusFirstItem(details);\n    };\n    return [\n        fromEvent(details, 'mousedown', onmousedown),\n        fromEvent(details, 'keydown', onkeydown),\n        fromEvent(details, 'toggle', ontoggle)\n    ];\n}\nfunction closeCurrentMenu(details) {\n    if (!details.hasAttribute('open'))\n        return;\n    for (const menu of document.querySelectorAll('details[open] > details-menu')) {\n        const opened = menu.closest('details');\n        if (opened && opened !== details && !opened.contains(details)) {\n            opened.removeAttribute('open');\n        }\n    }\n}\nfunction autofocus(details) {\n    if (!details.hasAttribute('open'))\n        return false;\n    const input = details.querySelector('details-menu [autofocus]');\n    if (input) {\n        input.focus();\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction focusFirstItem(details) {\n    const selected = document.activeElement;\n    if (selected && isMenuItem(selected) && details.contains(selected))\n        return;\n    const target = sibling(details, true);\n    if (target)\n        target.focus();\n}\nfunction sibling(details, next) {\n    const options = Array.from(details.querySelectorAll('[role^=\"menuitem\"]:not([hidden]):not([disabled]):not([aria-disabled=\"true\"])'));\n    const selected = document.activeElement;\n    const index = selected instanceof HTMLElement ? options.indexOf(selected) : -1;\n    const found = next ? options[index + 1] : options[index - 1];\n    const def = next ? options[0] : options[options.length - 1];\n    return found || def;\n}\nconst ctrlBindings = navigator.userAgent.match(/Macintosh/);\nfunction shouldCommit(details, event) {\n    const target = event.target;\n    if (!(target instanceof Element))\n        return;\n    if (target.closest('details') !== details)\n        return;\n    if (event.type === 'click') {\n        const menuitem = target.closest('[role=\"menuitem\"], [role=\"menuitemradio\"]');\n        if (!menuitem)\n            return;\n        const input = menuitem.querySelector('input');\n        if (menuitem.tagName === 'LABEL' && target === input)\n            return;\n        const onlyCommitOnChangeEvent = menuitem.tagName === 'LABEL' && input && !input.checked;\n        if (!onlyCommitOnChangeEvent) {\n            commit(menuitem, details);\n        }\n    }\n    else if (event.type === 'change') {\n        const menuitem = target.closest('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]');\n        if (menuitem)\n            commit(menuitem, details);\n    }\n}\nfunction updateChecked(selected, details) {\n    for (const el of details.querySelectorAll('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]')) {\n        const input = el.querySelector('input[type=\"radio\"], input[type=\"checkbox\"]');\n        let checkState = (el === selected).toString();\n        if (input instanceof HTMLInputElement) {\n            checkState = input.indeterminate ? 'mixed' : input.checked.toString();\n        }\n        el.setAttribute('aria-checked', checkState);\n    }\n}\nfunction commit(selected, details) {\n    if (selected.hasAttribute('disabled') || selected.getAttribute('aria-disabled') === 'true')\n        return;\n    const menu = selected.closest('details-menu');\n    if (!menu)\n        return;\n    const dispatched = menu.dispatchEvent(new CustomEvent('details-menu-select', {\n        cancelable: true,\n        detail: { relatedTarget: selected }\n    }));\n    if (!dispatched)\n        return;\n    updateLabel(selected, details);\n    updateChecked(selected, details);\n    if (selected.getAttribute('role') !== 'menuitemcheckbox')\n        close(details);\n    menu.dispatchEvent(new CustomEvent('details-menu-selected', {\n        detail: { relatedTarget: selected }\n    }));\n}\nfunction keydown(details, menu, event) {\n    if (!(event instanceof KeyboardEvent))\n        return;\n    if (details.querySelector('details[open]'))\n        return;\n    const state = states.get(menu);\n    if (!state || state.isComposing)\n        return;\n    const isSummaryFocused = event.target instanceof Element && event.target.tagName === 'SUMMARY';\n    switch (event.key) {\n        case 'Escape':\n            if (details.hasAttribute('open')) {\n                close(details);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            break;\n        case 'ArrowDown':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, true);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'ArrowUp':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, false);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'n':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, true);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case 'p':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, false);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case ' ':\n        case 'Enter':\n            {\n                const selected = document.activeElement;\n                if (selected instanceof HTMLElement && isMenuItem(selected) && selected.closest('details') === details) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    selected.click();\n                }\n            }\n            break;\n    }\n}\nfunction isMenuItem(el) {\n    const role = el.getAttribute('role');\n    return role === 'menuitem' || role === 'menuitemcheckbox' || role === 'menuitemradio';\n}\nfunction close(details) {\n    const wasOpen = details.hasAttribute('open');\n    if (!wasOpen)\n        return;\n    details.removeAttribute('open');\n    const summary = details.querySelector('summary');\n    if (summary)\n        summary.focus();\n}\nfunction updateLabel(item, details) {\n    const button = details.querySelector('[data-menu-button]');\n    if (!button)\n        return;\n    const text = labelText(item);\n    if (text) {\n        button.textContent = text;\n    }\n    else {\n        const html = labelHTML(item);\n        if (html)\n            button.innerHTML = html;\n    }\n}\nfunction labelText(el) {\n    if (!el)\n        return null;\n    const textEl = el.hasAttribute('data-menu-button-text') ? el : el.querySelector('[data-menu-button-text]');\n    if (!textEl)\n        return null;\n    return textEl.getAttribute('data-menu-button-text') || textEl.textContent;\n}\nfunction labelHTML(el) {\n    if (!el)\n        return null;\n    const contentsEl = el.hasAttribute('data-menu-button-contents') ? el : el.querySelector('[data-menu-button-contents]');\n    return contentsEl ? contentsEl.innerHTML : null;\n}\nfunction trackComposition(menu, event) {\n    const state = states.get(menu);\n    if (!state)\n        return;\n    state.isComposing = event.type === 'compositionstart';\n}\nexport default DetailsMenuElement;\nif (!window.customElements.get('details-menu')) {\n    window.DetailsMenuElement = DetailsMenuElement;\n    window.customElements.define('details-menu', DetailsMenuElement);\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","const alternateOrders = {\n    'outside-top': ['outside-bottom', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-bottom': ['outside-top', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-left': ['outside-right', 'outside-bottom', 'outside-top', 'outside-bottom'],\n    'outside-right': ['outside-left', 'outside-bottom', 'outside-top', 'outside-bottom']\n};\nconst alternateAlignments = {\n    start: ['end', 'center'],\n    end: ['start', 'center'],\n    center: ['end', 'start']\n};\nexport function getAnchoredPosition(floatingElement, anchorElement, settings = {}) {\n    const parentElement = getPositionedParent(floatingElement);\n    const clippingRect = getClippingRect(parentElement);\n    const parentElementStyle = getComputedStyle(parentElement);\n    const parentElementRect = parentElement.getBoundingClientRect();\n    const [borderTop, borderLeft] = [parentElementStyle.borderTopWidth, parentElementStyle.borderLeftWidth].map(v => parseInt(v, 10) || 0);\n    const relativeRect = {\n        top: parentElementRect.top + borderTop,\n        left: parentElementRect.left + borderLeft\n    };\n    return pureCalculateAnchoredPosition(clippingRect, relativeRect, floatingElement.getBoundingClientRect(), anchorElement instanceof Element ? anchorElement.getBoundingClientRect() : anchorElement, getDefaultSettings(settings));\n}\nfunction getPositionedParent(element) {\n    let parentNode = element.parentNode;\n    while (parentNode !== null) {\n        if (parentNode instanceof HTMLElement && getComputedStyle(parentNode).position !== 'static') {\n            return parentNode;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    return document.body;\n}\nfunction getClippingRect(element) {\n    let parentNode = element;\n    while (parentNode !== null) {\n        if (parentNode === document.body) {\n            break;\n        }\n        const parentNodeStyle = getComputedStyle(parentNode);\n        if (parentNodeStyle.overflow !== 'visible') {\n            break;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    const clippingNode = parentNode === document.body || !(parentNode instanceof HTMLElement) ? document.body : parentNode;\n    const elemRect = clippingNode.getBoundingClientRect();\n    const elemStyle = getComputedStyle(clippingNode);\n    const [borderTop, borderLeft, borderRight, borderBottom] = [\n        elemStyle.borderTopWidth,\n        elemStyle.borderLeftWidth,\n        elemStyle.borderRightWidth,\n        elemStyle.borderBottomWidth\n    ].map(v => parseInt(v, 10) || 0);\n    return {\n        top: elemRect.top + borderTop,\n        left: elemRect.left + borderLeft,\n        width: elemRect.width - borderRight - borderLeft,\n        height: Math.max(elemRect.height - borderTop - borderBottom, clippingNode === document.body ? window.innerHeight : -Infinity)\n    };\n}\nconst positionDefaults = {\n    side: 'outside-bottom',\n    align: 'start',\n    anchorOffset: 4,\n    alignmentOffset: 4,\n    allowOutOfBounds: false\n};\nfunction getDefaultSettings(settings = {}) {\n    var _a, _b, _c, _d, _e;\n    const side = (_a = settings.side) !== null && _a !== void 0 ? _a : positionDefaults.side;\n    const align = (_b = settings.align) !== null && _b !== void 0 ? _b : positionDefaults.align;\n    return {\n        side,\n        align,\n        anchorOffset: (_c = settings.anchorOffset) !== null && _c !== void 0 ? _c : (side === 'inside-center' ? 0 : positionDefaults.anchorOffset),\n        alignmentOffset: (_d = settings.alignmentOffset) !== null && _d !== void 0 ? _d : (align !== 'center' && side.startsWith('inside') ? positionDefaults.alignmentOffset : 0),\n        allowOutOfBounds: (_e = settings.allowOutOfBounds) !== null && _e !== void 0 ? _e : positionDefaults.allowOutOfBounds\n    };\n}\nfunction pureCalculateAnchoredPosition(viewportRect, relativePosition, floatingRect, anchorRect, { side, align, allowOutOfBounds, anchorOffset, alignmentOffset }) {\n    const relativeViewportRect = {\n        top: viewportRect.top - relativePosition.top,\n        left: viewportRect.left - relativePosition.left,\n        width: viewportRect.width,\n        height: viewportRect.height\n    };\n    let pos = calculatePosition(floatingRect, anchorRect, side, align, anchorOffset, alignmentOffset);\n    let anchorSide = side;\n    let anchorAlign = align;\n    pos.top -= relativePosition.top;\n    pos.left -= relativePosition.left;\n    if (!allowOutOfBounds) {\n        const alternateOrder = alternateOrders[side];\n        let positionAttempt = 0;\n        if (alternateOrder) {\n            let prevSide = side;\n            while (positionAttempt < alternateOrder.length &&\n                shouldRecalculatePosition(prevSide, pos, relativeViewportRect, floatingRect)) {\n                const nextSide = alternateOrder[positionAttempt++];\n                prevSide = nextSide;\n                pos = calculatePosition(floatingRect, anchorRect, nextSide, align, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorSide = nextSide;\n            }\n        }\n        const alternateAlignment = alternateAlignments[align];\n        let alignmentAttempt = 0;\n        if (alternateAlignment) {\n            let prevAlign = align;\n            while (alignmentAttempt < alternateAlignment.length &&\n                shouldRecalculateAlignment(prevAlign, pos, relativeViewportRect, floatingRect)) {\n                const nextAlign = alternateAlignment[alignmentAttempt++];\n                prevAlign = nextAlign;\n                pos = calculatePosition(floatingRect, anchorRect, anchorSide, nextAlign, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorAlign = nextAlign;\n            }\n        }\n        if (pos.top < relativeViewportRect.top) {\n            pos.top = relativeViewportRect.top;\n        }\n        if (pos.left < relativeViewportRect.left) {\n            pos.left = relativeViewportRect.left;\n        }\n        if (pos.left + floatingRect.width > viewportRect.width + relativeViewportRect.left) {\n            pos.left = viewportRect.width + relativeViewportRect.left - floatingRect.width;\n        }\n        if (alternateOrder && positionAttempt < alternateOrder.length) {\n            if (pos.top + floatingRect.height > viewportRect.height + relativeViewportRect.top) {\n                pos.top = viewportRect.height + relativeViewportRect.top - floatingRect.height;\n            }\n        }\n    }\n    return Object.assign(Object.assign({}, pos), { anchorSide, anchorAlign });\n}\nfunction calculatePosition(elementDimensions, anchorPosition, side, align, anchorOffset, alignmentOffset) {\n    const anchorRight = anchorPosition.left + anchorPosition.width;\n    const anchorBottom = anchorPosition.top + anchorPosition.height;\n    let top = -1;\n    let left = -1;\n    if (side === 'outside-top') {\n        top = anchorPosition.top - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'outside-bottom') {\n        top = anchorBottom + anchorOffset;\n    }\n    else if (side === 'outside-left') {\n        left = anchorPosition.left - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'outside-right') {\n        left = anchorRight + anchorOffset;\n    }\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    if (side === 'outside-left' || side === 'outside-right') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    if (side === 'inside-top') {\n        top = anchorPosition.top + anchorOffset;\n    }\n    else if (side === 'inside-bottom') {\n        top = anchorBottom - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'inside-left') {\n        left = anchorPosition.left + anchorOffset;\n    }\n    else if (side === 'inside-right') {\n        left = anchorRight - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'inside-center') {\n        left = (anchorRight + anchorPosition.left) / 2 - elementDimensions.width / 2 + anchorOffset;\n    }\n    if (side === 'inside-top' || side === 'inside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    else if (side === 'inside-left' || side === 'inside-right' || side === 'inside-center') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    return { top, left };\n}\nfunction shouldRecalculatePosition(side, currentPos, containerDimensions, elementDimensions) {\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        return (currentPos.top < containerDimensions.top ||\n            currentPos.top + elementDimensions.height > containerDimensions.height + containerDimensions.top);\n    }\n    else {\n        return (currentPos.left < containerDimensions.left ||\n            currentPos.left + elementDimensions.width > containerDimensions.width + containerDimensions.left);\n    }\n}\nfunction shouldRecalculateAlignment(align, currentPos, containerDimensions, elementDimensions) {\n    if (align === 'end') {\n        return currentPos.left < containerDimensions.left;\n    }\n    else if (align === 'start' || align === 'center') {\n        return currentPos.left + elementDimensions.width > containerDimensions.left + containerDimensions.width;\n    }\n}\n","// eslint-disable-next-line prettier/prettier\nimport type {AnchorAlignment, AnchorSide} from '@primer/behaviors'\nimport {getAnchoredPosition} from '@primer/behaviors'\n\nconst TOOLTIP_OPEN_CLASS = 'tooltip-open'\nconst TOOLTIP_ARROW_EDGE_OFFSET = 6\n\ntype Direction = 'n' | 's' | 'e' | 'w' | 'ne' | 'se' | 'nw' | 'sw'\n\nconst DIRECTION_CLASSES = [\n  'tooltip-n',\n  'tooltip-s',\n  'tooltip-e',\n  'tooltip-w',\n  'tooltip-ne',\n  'tooltip-se',\n  'tooltip-nw',\n  'tooltip-sw'\n]\n\nclass ToolTipElement extends HTMLElement {\n  styles() {\n    return `\n      :host {\n        position: absolute;\n        z-index: 1000000;\n        padding: .5em .75em;\n        font: normal normal 11px/1.5 -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\";\n        -webkit-font-smoothing: subpixel-antialiased;\n        color: var(--color-fg-on-emphasis);\n        text-align: center;\n        text-decoration: none;\n        text-shadow: none;\n        text-transform: none;\n        letter-spacing: normal;\n        word-wrap: break-word;\n        white-space: pre;\n        background: var(--color-neutral-emphasis-plus);\n        border-radius: 6px;\n        opacity: 0;\n        max-width: 250px;\n        word-wrap: break-word;\n        white-space: normal;\n        width: max-content;\n      }\n\n      :host:before{\n        position: absolute;\n        z-index: 1000001;\n        color: var(--color-neutral-emphasis-plus);\n        content: \"\";\n        border: 6px solid transparent;\n        opacity: 0\n      }\n\n      @keyframes tooltip-appear {\n        from {\n          opacity: 0\n        }\n        to {\n          opacity: 1\n        }\n      }\n\n      :host:after{\n        position: absolute;\n        display: block;\n        right: 0;\n        left: 0;\n        height: 12px;\n        content: \"\"\n      }\n\n      :host(.${TOOLTIP_OPEN_CLASS}),\n      :host(.${TOOLTIP_OPEN_CLASS}):before {\n        animation-name: tooltip-appear;\n        animation-duration: .1s;\n        animation-fill-mode: forwards;\n        animation-timing-function: ease-in;\n        animation-delay: .4s\n      }\n\n      :host(.tooltip-s):before,\n      :host(.tooltip-n):before {\n        right: 50%;\n        margin-right: -${TOOLTIP_ARROW_EDGE_OFFSET}px;\n      }\n\n      :host(.tooltip-s):before,\n      :host(.tooltip-se):before,\n      :host(.tooltip-sw):before {\n        bottom: 100%;\n        border-bottom-color: var(--color-neutral-emphasis-plus)\n      }\n\n      :host(.tooltip-s):after,\n      :host(.tooltip-se):after,\n      :host(.tooltip-sw):after {\n        bottom: 100%\n      }\n\n      :host(.tooltip-n):before,\n      :host(.tooltip-ne):before,\n      :host(.tooltip-nw):before {\n        top: 100%;\n        border-top-color: var(--color-neutral-emphasis-plus)\n      }\n\n      :host(.tooltip-n):after,\n      :host(.tooltip-ne):after,\n      :host(.tooltip-nw):after {\n        top: 100%\n      }\n\n      :host(.tooltip-se):before,\n      :host(.tooltip-ne):before {\n        left: 0;\n        margin-left: ${TOOLTIP_ARROW_EDGE_OFFSET}px;\n      }\n\n      :host(.tooltip-sw):before,\n      :host(.tooltip-nw):before {\n        right: 0;\n        margin-right: ${TOOLTIP_ARROW_EDGE_OFFSET}px;\n      }\n\n      :host(.tooltip-w):before {\n        top: 50%;\n        bottom: 50%;\n        left: 100%;\n        margin-top: -6px;\n        border-left-color: var(--color-neutral-emphasis-plus)\n      }\n\n      :host(.tooltip-e):before {\n        top: 50%;\n        right: 100%;\n        bottom: 50%;\n        margin-top: -6px;\n        border-right-color: var(--color-neutral-emphasis-plus)\n      }\n    `\n  }\n\n  #abortController: AbortController | undefined\n  #align: AnchorAlignment = 'center'\n  #side: AnchorSide = 'outside-bottom'\n  #allowUpdatePosition = false\n\n  get htmlFor(): string {\n    return this.getAttribute('for') || ''\n  }\n\n  set htmlFor(value: string) {\n    this.setAttribute('for', value)\n  }\n\n  get type(): 'description' | 'label' {\n    const type = this.getAttribute('data-type')\n    return type === 'label' ? 'label' : 'description'\n  }\n\n  set type(value: 'description' | 'label') {\n    this.setAttribute('data-type', value)\n  }\n\n  get direction(): Direction {\n    return (this.getAttribute('data-direction') || 's') as Direction\n  }\n\n  set direction(value: Direction) {\n    this.setAttribute('data-direction', value)\n  }\n\n  get control(): HTMLElement | null {\n    return this.ownerDocument.getElementById(this.htmlFor)\n  }\n\n  connectedCallback() {\n    if (!this.shadowRoot) {\n      const shadow = this.attachShadow({mode: 'open'})\n      shadow.innerHTML = `\n        <style>\n          ${this.styles()}\n        </style>\n        <slot></slot>\n      `\n    }\n    this.hidden = true\n    this.#allowUpdatePosition = true\n\n    if (!this.id) {\n      this.id = `tooltip-${Date.now()}-${(Math.random() * 10000).toFixed(0)}`\n    }\n\n    if (!this.control) return\n\n    this.setAttribute('role', 'tooltip')\n\n    this.#abortController?.abort()\n    this.#abortController = new AbortController()\n    const {signal} = this.#abortController\n\n    this.addEventListener('mouseleave', this, {signal})\n    this.control.addEventListener('mouseenter', this, {signal})\n    this.control.addEventListener('mouseleave', this, {signal})\n    this.control.addEventListener('focus', this, {signal})\n    this.control.addEventListener('blur', this, {signal})\n    this.ownerDocument.addEventListener('keydown', this, {signal})\n    this.#update()\n  }\n\n  disconnectedCallback() {\n    this.#abortController?.abort()\n  }\n\n  handleEvent(event: Event) {\n    if (!this.control) return\n\n    // Ensures that tooltip stays open when hovering between tooltip and element\n    // WCAG Success Criterion 1.4.13 Hoverable\n    if ((event.type === 'mouseenter' || event.type === 'focus') && this.hidden) {\n      this.hidden = false\n    } else if (event.type === 'blur') {\n      this.hidden = true\n    } else if (\n      event.type === 'mouseleave' &&\n      (event as MouseEvent).relatedTarget !== this.control &&\n      (event as MouseEvent).relatedTarget !== this\n    ) {\n      this.hidden = true\n    } else if (event.type === 'keydown' && (event as KeyboardEvent).key === 'Escape' && !this.hidden) {\n      this.hidden = true\n    }\n  }\n\n  static observedAttributes = ['data-type', 'data-direction', 'id', 'hidden']\n\n  #update() {\n    if (this.hidden) {\n      this.classList.remove(TOOLTIP_OPEN_CLASS, ...DIRECTION_CLASSES)\n    } else {\n      this.classList.add(TOOLTIP_OPEN_CLASS)\n      for (const tooltip of this.ownerDocument.querySelectorAll<HTMLElement>(this.tagName)) {\n        if (tooltip !== this) tooltip.hidden = true\n      }\n      this.#updatePosition()\n    }\n  }\n\n  attributeChangedCallback(name: string) {\n    if (name === 'id' || name === 'data-type') {\n      if (!this.id || !this.control) return\n      if (this.type === 'label') {\n        this.control.setAttribute('aria-labelledby', this.id)\n      } else {\n        let describedBy = this.control.getAttribute('aria-describedby')\n        describedBy ? (describedBy = `${describedBy} ${this.id}`) : (describedBy = this.id)\n        this.control.setAttribute('aria-describedby', describedBy)\n      }\n    } else if (this.isConnected && name === 'hidden') {\n      this.#update()\n    } else if (name === 'data-direction') {\n      this.classList.remove(...DIRECTION_CLASSES)\n      const direction = this.direction\n      if (direction === 'n') {\n        this.#align = 'center'\n        this.#side = 'outside-top'\n      } else if (direction === 'ne') {\n        this.#align = 'start'\n        this.#side = 'outside-top'\n      } else if (direction === 'e') {\n        this.#align = 'center'\n        this.#side = 'outside-right'\n      } else if (direction === 'se') {\n        this.#align = 'start'\n        this.#side = 'outside-bottom'\n      } else if (direction === 's') {\n        this.#align = 'center'\n        this.#side = 'outside-bottom'\n      } else if (direction === 'sw') {\n        this.#align = 'end'\n        this.#side = 'outside-bottom'\n      } else if (direction === 'w') {\n        this.#align = 'center'\n        this.#side = 'outside-left'\n      } else if (direction === 'nw') {\n        this.#align = 'end'\n        this.#side = 'outside-top'\n      }\n    }\n  }\n\n  #updatePosition() {\n    if (!this.control) return\n    if (!this.#allowUpdatePosition || this.hidden) return\n\n    const TOOLTIP_OFFSET = 10\n\n    this.style.left = `0px` // Ensures we have reliable tooltip width in `getAnchoredPosition`\n\n    const position = getAnchoredPosition(this, this.control, {\n      side: this.#side,\n      align: this.#align,\n      anchorOffset: TOOLTIP_OFFSET\n    })\n    const anchorSide = position.anchorSide\n    const align = position.anchorAlign\n\n    this.style.top = `${position.top}px`\n    this.style.left = `${position.left}px`\n\n    let direction: Direction = 's'\n\n    if (anchorSide === 'outside-left') {\n      direction = 'w'\n    } else if (anchorSide === 'outside-right') {\n      direction = 'e'\n    } else if (anchorSide === 'outside-top') {\n      if (align === 'center') {\n        direction = 'n'\n      } else if (align === 'start') {\n        direction = 'ne'\n      } else {\n        direction = 'nw'\n      }\n    } else {\n      if (align === 'center') {\n        direction = 's'\n      } else if (align === 'start') {\n        direction = 'se'\n      } else {\n        direction = 'sw'\n      }\n    }\n\n    this.classList.add(`tooltip-${direction}`)\n  }\n}\n\nif (!window.customElements.get('tool-tip')) {\n  window.ToolTipElement = ToolTipElement\n  window.customElements.define('tool-tip', ToolTipElement)\n}\n\ndeclare global {\n  interface Window {\n    ToolTipElement: typeof ToolTipElement\n  }\n}\n"],"names":["ctrlBindings","navigator","userAgent","match","Combobox","[object Object]","input","list","this","isComposing","id","Math","random","toString","slice","keyboardEventHandler","event","combobox","shiftKey","metaKey","altKey","ctrlKey","key","target","querySelector","getAttribute","click","commit","preventDefault","clearSelection","navigate","keyboardBindings","compositionEventHandler","type","document","getElementById","trackComposition","inputHandler","bind","setAttribute","stop","removeAttribute","addEventListener","commitWithElement","removeEventListener","indexDiff","focusEl","Array","from","querySelectorAll","filter","visible","els","focusIndex","indexOf","length","focus","indexOfItem","newIndex","el","scrollTo","Element","closest","dispatchEvent","CustomEvent","bubbles","fireCommitEvent","hidden","HTMLInputElement","offsetWidth","offsetHeight","container","element","scrollTop","containerBottom","clientHeight","top","offsetTop","bottom","inViewport","AutocompleteEvent","init","super","relatedTarget","requests","WeakMap","fragment","url","xhr","XMLHttpRequest","open","setRequestHeader","pending","get","abort","set","clear","delete","result","Promise","resolve","reject","onload","status","responseText","Error","onerror","send","then","request","SCREEN_READER_DELAY","window","testScreenReaderDelay","Autocomplete","results","autoselectEnabled","_a","feedback","clearButton","name","clientOptions","labelElem","interactingWithList","onInputChange","callback","wait","timeout","Rest","clearTimeout","setTimeout","debounce","onResultsMouseDown","onInputBlur","onInputFocus","onKeydown","onCommit","handleClear","updateFeedbackForScreenReaders","value","Event","firstOption","children","stopPropagation","trim","fetchResults","selected","HTMLElement","HTMLAnchorElement","textContent","innerHTML","inputString","query","src","URL","location","href","params","URLSearchParams","search","append","html","identifyOptions","allNewOptions","hasResults","numOptions","firstOptionValue","catch","start","state","AutocompleteElement","listId","autocomplete","destroy","hasAttribute","observedAttributes","oldValue","newValue","close","copyNode","node","clipboard","writeText","selection","getSelection","removeAllRanges","range","createRange","selectNodeContents","addRange","execCommand","copyText","text","body","createElement","style","width","height","position","createNode","appendChild","removeChild","copy","button","trigger","root","prototype","getRootNode","ownerDocument","Document","ShadowRoot","content","HTMLTextAreaElement","clicked","currentTarget","keydown","focused","blurred","customElements","define","ClipboardCopyElement","showSVG","svg","display","hideSVG","clipboardCopyElementTimers","currentTimeout","copyIcon","checkIcon","showCheck","showCopy","TabContainerElement","tabs","currentIndex","find","tab","matches","code","index","selectTab","tabContainer","panels","selectedTab","selectedPanel","cancelable","detail","panel","weekdays","months","pad","num","strftime","time","formatString","day","getDay","date","getDate","month","getMonth","year","getFullYear","hour","getHours","minute","getMinutes","second","getSeconds","replace","_arg","String","makeFormatter","options","format","Intl","DateTimeFormat","undefined","e","RangeError","dayFirst","dayFirstFormatter","isDayFirst","formatter","output","Date","yearSeparator","yearFormatter","localeFromElement","lang","datetimes","ExtendedTimeElement","title","getFormattedTitle","getFormattedDate","attrName","oldTitle","millis","parse","isNaN","currentTitle","titleFormatter","toLocaleString","timeZoneName","formatters","LocalTimeElement","attributeChangedCallback","d","props","weekday","short","long","numeric","2-digit","prop","formatDate","tz","Object","keys","factory","formatTime","RelativeTime","locale","ago","timeElapsed","ahead","timeAhead","ms","getTime","sec","round","min","hr","timeAgoFromMs","timeUntil","formatRelativeTime","timeUntilFromMs","getUTCFullYear","isYearSeparator","timeFormatter","unit","RelativeTimeFormat","makeRelativeFormat","formatEnRelativeTime","RelativeTimeElement","nowElements","push","updateNowElementsId","updateNowElements","setInterval","connectedCallback","ix","splice","clearInterval","i","len","TimeAgoElement","microTimeAgo","timeAgo","TimeUntilElement","microTimeUntil","startPositions","dragStartPositions","constructedElements","moveCropArea","ImageCropElement","box","image","deltaX","deltaY","KeyboardEvent","has","MouseEvent","pos","pageX","dragStartX","pageY","dragStartY","TouchEvent","changedTouches","x","max","offsetLeft","y","left","fireChangeEvent","updateCropArea","getShadowHost","rect","getBoundingClientRect","delta","setInitialPosition","startX","startY","pageXOffset","pageYOffset","updateDimensions","rootNode","host","startUpdate","direction","passive","classList","add","reposition","newSide","abs","side","clientWidth","stopUpdate","remove","ratio","naturalWidth","slottedInput","shadowRoot","attachShadow","mode","HTMLImageElement","loaded","val","attribute","DetailsMenuElement","preload","details","parentElement","summary","subscriptions","fromEvent","shouldCommit","menu","states","isSummaryFocused","tagName","sibling","activeElement","isMenuItem","loadFragment","once","opened","contains","closeCurrentMenu","NullSubscription","focusOnOpen","sub","unsubscribe","eventName","onNext","loader","autofocus","isMouse","focusFirstItem","next","found","def","menuitem","checked","item","textEl","labelText","contentsEl","labelHTML","updateLabel","checkState","indeterminate","updateChecked","role","__classPrivateFieldGet","receiver","kind","f","TypeError","call","__classPrivateFieldSet","alternateOrders","outside-top","outside-bottom","outside-left","outside-right","alternateAlignments","end","center","getAnchoredPosition","floatingElement","anchorElement","settings","parentNode","getComputedStyle","getPositionedParent","clippingRect","overflow","clippingNode","elemRect","elemStyle","borderTop","borderLeft","borderRight","borderBottom","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","map","v","parseInt","innerHeight","Infinity","getClippingRect","parentElementStyle","parentElementRect","viewportRect","relativePosition","floatingRect","anchorRect","align","allowOutOfBounds","anchorOffset","alignmentOffset","relativeViewportRect","calculatePosition","anchorSide","anchorAlign","alternateOrder","positionAttempt","prevSide","shouldRecalculatePosition","nextSide","alternateAlignment","alignmentAttempt","prevAlign","shouldRecalculateAlignment","nextAlign","assign","pureCalculateAnchoredPosition","_b","_c","_d","_e","positionDefaults","startsWith","getDefaultSettings","elementDimensions","anchorPosition","anchorRight","anchorBottom","currentPos","containerDimensions","DIRECTION_CLASSES","ToolTipElement","_ToolTipElement_abortController","_ToolTipElement_align","_ToolTipElement_side","_ToolTipElement_allowUpdatePosition","htmlFor","control","styles","now","toFixed","AbortController","signal","_ToolTipElement_instances","_ToolTipElement_update","describedBy","isConnected","tooltip","_ToolTipElement_updatePosition"],"mappings":"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"}