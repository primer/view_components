<%= render(Primer::ConditionalWrapper.new(condition: self.class == Primer::Alpha::ActionList, tag: "action-list")) do %>
  <% if heading %>
    <%= heading %>
  <% end %>
  <%= render(Primer::BaseComponent.new(**@system_arguments)) do %>
    <% items.each do |item| %>
      <%= item %>
    <% end %>
    <% unless lists.empty? %>
      <%= render(Primer::Alpha::ActionList::Divider.new) %>
    <% end %>
    <% lists.each_with_index do |list, idx| %>
      <% if idx > 0 %>
        <%= render(Primer::Alpha::ActionList::Divider.new) %>
      <% end %>
      <%= render(Primer::BaseComponent.new(tag: :li, classes: "ActionListItem ActionListItem--hasSubItem")) do %>
        <%= list %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
